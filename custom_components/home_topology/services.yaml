# Services for manual occupancy control

trigger:
  name: Trigger Occupancy
  description: Manually trigger occupancy for a location
  fields:
    location_id:
      name: Location ID
      description: The location to trigger occupancy for
      required: true
      example: "kitchen"
      selector:
        text:
    source_id:
      name: Source ID
      description: Identifier for the occupancy source (e.g., entity_id or manual)
      required: false
      default: "manual"
      example: "manual"
      selector:
        text:
    timeout:
      name: Timeout (seconds)
      description: How long until location becomes vacant (0 for indefinite)
      required: false
      default: 300
      example: 300
      selector:
        number:
          min: 0
          max: 86400
          unit_of_measurement: "seconds"

clear:
  name: Clear Occupancy
  description: Manually clear occupancy for a location
  fields:
    location_id:
      name: Location ID
      description: The location to clear occupancy for
      required: true
      example: "kitchen"
      selector:
        text:
    source_id:
      name: Source ID
      description: Identifier for the occupancy source
      required: false
      default: "manual"
      example: "manual"
      selector:
        text:
    trailing_timeout:
      name: Trailing Timeout (seconds)
      description: How long to wait before fully vacant (0 for immediate)
      required: false
      default: 0
      example: 120
      selector:
        number:
          min: 0
          max: 86400
          unit_of_measurement: "seconds"

lock:
  name: Lock Location
  description: Lock a location to prevent it from becoming vacant
  fields:
    location_id:
      name: Location ID
      description: The location to lock
      required: true
      example: "kitchen"
      selector:
        text:

unlock:
  name: Unlock Location
  description: Unlock a location to allow normal occupancy timeout
  fields:
    location_id:
      name: Location ID
      description: The location to unlock
      required: true
      example: "kitchen"
      selector:
        text:

vacate_area:
  name: Vacate Area
  description: Vacate a location and all its descendants (cascading clear)
  fields:
    location_id:
      name: Location ID
      description: The location to vacate (including children)
      required: true
      example: "house"
      selector:
        text:
