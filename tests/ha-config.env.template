# Home Assistant Connection Configuration for Live Testing
# Copy this file to ha-config.env and fill in your details.
# ha-config.env is gitignored - never committed.

# Switch target with HA_TARGET=dev or HA_TARGET=prod

# === Dev (localhost) ===
HA_URL_DEV="http://localhost:8123"
HA_TOKEN_DEV="your_dev_long_lived_token_here"

# === Production ===
HA_URL_PROD="https://your-production-ha.example.com"
HA_TOKEN_PROD="your_prod_long_lived_token_here"

# Active target: dev | prod
HA_TARGET="dev"

# Resolve HA_URL / HA_TOKEN when sourced (do not edit)
if [[ "${HA_TARGET:-dev}" == "prod" && -n "${HA_URL_PROD:-}" ]]; then
  export HA_URL="${HA_URL_PROD}"
  export HA_TOKEN="${HA_TOKEN_PROD}"
else
  export HA_URL="${HA_URL_DEV:-http://localhost:8123}"
  export HA_TOKEN="${HA_TOKEN_DEV:-}"
fi

# Test Mode
# - "live" = run against real HA
# - "mock" = use pytest-homeassistant fixtures (default)
TEST_MODE="live"

# Test Timeouts (seconds)
# Short timeouts for fast testing (DO NOT use in production!)
TEST_TIMEOUT=10              # Occupancy timeout
TEST_COORDINATOR_INTERVAL=1  # Coordinator check interval
TEST_TRAILING_TIMEOUT=2      # Trailing timeout

# Optional: Test HA Admin Credentials (for setup)
TEST_HA_USERNAME="test"
TEST_HA_PASSWORD="test123456"

# Optional: Cleanup after tests
AUTO_CLEANUP="true"  # Delete test areas/entities after each test

# Optional: Debug logging
TEST_LOG_LEVEL="INFO"  # DEBUG, INFO, WARNING, ERROR

